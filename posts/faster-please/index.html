<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Faster, please! (Or, how I reverse engineered an app to cater to my needs) | Tommaso Colella | SWE</title><meta name=keywords content><meta name=description content="I love listening to podcasts, and news in general. For a couple of years, I&rsquo;ve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there&rsquo;s a big problem with that: it&rsquo;s impossible to increase the audio reproduction speed.
I usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, I like to cram as much content as possible in my daily listening. I also get bored very quickly when someone speaks slowly (sorry, I&rsquo;m engineered like this!). That&rsquo;s exactly why I set the speed to 2x for most of the podcasts I&rsquo;m listening to. Being unable to do the same with the magazine&rsquo;s articles really bothered me."><meta name=author content="Tommaso Colella"><link rel=canonical href=https://gioleppe.github.io/posts/faster-please/><meta name=google-site-verification content="G-JHDYWZPGQF"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://gioleppe.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gioleppe.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gioleppe.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://gioleppe.github.io/apple-touch-icon.png><link rel=mask-icon href=https://gioleppe.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gioleppe.github.io/posts/faster-please/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script type=application/ld+json>{"@context":"https://schema.org/","@type":"Person","name":"Tommaso Colella","url":"https://gioleppe.github.io/","image":"https://media.licdn.com/dms/image/C5603AQEo-0VsShX7eg/profile-displayphoto-shrink_400_400/0/1612869300096?e=1676505600&v=beta&t=C0ZDSUriW6h0wK3Py6DoZ8viruvCLJdTg99jQCGsl9Y","sameAs":["https://www.linkedin.com/in/tommaso-colella-051012143/","https://github.com/gioleppe","https://www.facebook.com/amuchina"],"jobTitle":"Software Engineer","worksFor":{"@type":"Organization","name":"YOOX Net-a-Porter Group S.p.A"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JHDYWZPGQF"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JHDYWZPGQF")}</script><meta property="og:url" content="https://gioleppe.github.io/posts/faster-please/"><meta property="og:site_name" content="Tommaso Colella | SWE"><meta property="og:title" content="Faster, please! (Or, how I reverse engineered an app to cater to my needs)"><meta property="og:description" content="I love listening to podcasts, and news in general. For a couple of years, I‚Äôve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there‚Äôs a big problem with that: it‚Äôs impossible to increase the audio reproduction speed.
I usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, I like to cram as much content as possible in my daily listening. I also get bored very quickly when someone speaks slowly (sorry, I‚Äôm engineered like this!). That‚Äôs exactly why I set the speed to 2x for most of the podcasts I‚Äôm listening to. Being unable to do the same with the magazine‚Äôs articles really bothered me."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-27T23:20:50+00:00"><meta property="article:modified_time" content="2025-04-27T23:20:50+00:00"><meta property="og:image" content="https://gioleppe.github.io/images/cover-faster-please.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gioleppe.github.io/images/cover-faster-please.jpg"><meta name=twitter:title content="Faster, please! (Or, how I reverse engineered an app to cater to my needs)"><meta name=twitter:description content="I love listening to podcasts, and news in general. For a couple of years, I&rsquo;ve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there&rsquo;s a big problem with that: it&rsquo;s impossible to increase the audio reproduction speed.
I usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, I like to cram as much content as possible in my daily listening. I also get bored very quickly when someone speaks slowly (sorry, I&rsquo;m engineered like this!). That&rsquo;s exactly why I set the speed to 2x for most of the podcasts I&rsquo;m listening to. Being unable to do the same with the magazine&rsquo;s articles really bothered me."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gioleppe.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Faster, please! (Or, how I reverse engineered an app to cater to my needs)","item":"https://gioleppe.github.io/posts/faster-please/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Faster, please! (Or, how I reverse engineered an app to cater to my needs)","name":"Faster, please! (Or, how I reverse engineered an app to cater to my needs)","description":"I love listening to podcasts, and news in general. For a couple of years, I\u0026rsquo;ve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there\u0026rsquo;s a big problem with that: it\u0026rsquo;s impossible to increase the audio reproduction speed.\nI usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, I like to cram as much content as possible in my daily listening. I also get bored very quickly when someone speaks slowly (sorry, I\u0026rsquo;m engineered like this!). That\u0026rsquo;s exactly why I set the speed to 2x for most of the podcasts I\u0026rsquo;m listening to. Being unable to do the same with the magazine\u0026rsquo;s articles really bothered me.\n","keywords":[],"articleBody":"I love listening to podcasts, and news in general. For a couple of years, I‚Äôve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there‚Äôs a big problem with that: it‚Äôs impossible to increase the audio reproduction speed.\nI usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, I like to cram as much content as possible in my daily listening. I also get bored very quickly when someone speaks slowly (sorry, I‚Äôm engineered like this!). That‚Äôs exactly why I set the speed to 2x for most of the podcasts I‚Äôm listening to. Being unable to do the same with the magazine‚Äôs articles really bothered me.\nI had to find a solution to the slowness of the TTS. I read online that I could use some exotic app from the Play Store, I tried to find such apps, but nothing worked as intended. A friend suggested using a famous Android automation app, but after quickly checking the official website, I realized increasing audio speed is not supported. I don‚Äôt know if that is even possible on an unrooted device, and rooting the phone was out of the question, as some of the apps I‚Äôm regularly using (including my bank‚Äôs) need an unrooted device.\nüí° Keep in mind, I‚Äôm definitely not an Android expert, so maybe there was a better way to achieve my goal. If you think so, feel free to contact me! I‚Äôd be glad to learn something new.\nAt that point, the only thing that came to my mind was modifying the app‚Äôs bytecode to somehow increase the reproduction speed. It was Saturday evening and I had nothing to do, so I thought it was the right time to go down the rabbit hole, if only a little. Broadly speaking, I thought the modification would require the following steps:\ndecompile the application modify the application‚Äôs byte code to increase audio reproduction speed repackage the app and install it on my android device Before this small project, I knew nothing of Android decompiling / reverse engineering, I only had a brief experience with reverse engineering GBA roms, so I chatted with Mistral to get a quick grasp on the matter. The chatbot explained the main concepts and provided me with some useful references, namely this and this, which I referenced extensively to reach my goal. Without further ado, let‚Äôs start with the technical part!\nüí° I won‚Äôt cite all the details here, so read those two blog posts if you are interested. From now on, I will just broadly explain the steps I carried out. Skip to the conclusions if you just want to know how it went!\nDrinking from the firehose While a little outdated, the two blog posts gave me a more specific idea of what to do, along with general information on Android reverse engineering, and opportunities for in depth analyses:\nI‚Äôd have to use jadx to produce a somewhat readable Java version of the DEX bytecode. After inspecting the higher-level code, and finding the part where the speed is set, I‚Äôd have to modify its pertaining Smali code which I previously had to extract from the bytecode contained in classes.dex by using apktool. Finally, I‚Äôd have to repackage the apk using apktool, sign it with apksigner, and install it on my phone using adb That‚Äôs a lot of information right? It will be easier to just show you the steps.\nJadx After downloading Jadx, and the app‚Äôs APK (I used APKCombo for that), I used jadx-gui to inspect the resulting Java code and the metadata with it. I found out that the app was built using Flutter and the code was obfuscated. This was bad news, as it would mean harder times finding out exactly what the app was doing (and, most importantly, where the relevant code was). A few minutes later though, I had a morale boost after seeing this promising package in AndroidManifest.xml:\nA quick Google search revealed the developers used a Flutter plugin to play the audio in the background. I inspected the source code and found a nice setSpeed method in the AudioHandler abstract class, along with other methods:\nI searched for ‚ÄúsetSpeed‚Äù and ‚Äúspeed‚Äù in the decompiled Java code, and with a little bit of luck, I found some interesting bits of obfuscated code:\nI continued inspecting the code for a while (I will spare you of more unintelligible decompiled Java classes, don‚Äôt worry!), and convinced myself that it was worth trying to modify the value of the second argument of ‚Äúc504n.m9994k‚Äù. It was time to check the Smali code.\nüí° I was lucky enough that the developers hadn‚Äôt used any String Obfuscation techniques in the executable (at least for the external libraries), otherwise it would‚Äôve been almost impossible to reach my goal. I guess it‚Äôs not really worth it to implement such security measures for the app of a magazine!\nSmali assembly I used apktool d -r .\\com.xxxxxxxx.app.apk to extract the Smali code, and opened it in VSCode. Given that there may be some errors/inconsistencies when translating DEX to Java, I decided to search again for ‚Äúspeed‚Äù and ‚ÄúsetSpeed‚Äù in the resulting assembly code and found this:\nWhat this code does, is it calls method sb.m.a(\"speed\") getting back a double that is then casted to float. I really liked the double-to-float, as it resonated with other playback speed related code I found when inspecting the Java decompile. That code was controlling the maximum and minimum allowed playback speed, and used the same check-cast of double -\u003e cast to float mechanism I had just witnessed in the smali. I was convinced that if I set a fixed float value for register v1 before the invoke-virtual at line 5195, it would become the ‚Äústandard‚Äù value for playback speed. Of course, this was a (very) wild guess, but it was worth trying.\nI modified the Smali code between the double-to-float and the invoke-virtual:\ndouble-to-float v1, v1 const/high16 v1, 0x40000000 # added line, this sets v1 register to 2.0f invoke-virtual {v7, v1}, Lua/a;-\u003ej0(F)V I was ready to repackage everything and test it on my phone.\nSigning and installing Below I outline the steps I followed to repackage the app and install it on my device:\nFirst of all, I used apktool b -d -f .\\com.xxxxxxxx.app\\ to repackage the application, Then, I created a keystore to self-sign my app using keytool as such: keytool -genkey -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000. I signed the app using apksigner apksigner sign --ks .\\com.xxxxxxxx.app\\dist\\my-release-key.keystore --v1-signing-enabled true --v2-signing-enabled true .\\com.xxxxxxxx.app.apk. Finally, I connected my phone (with usb debug enabled) and installed the apk using adb install .\\com.xxxxxxxx.app.apk. Conclusions If you made it to this point (or if you skipped to the conclusions), you really are interested in the outcome! Well, I‚Äôm happy to say this worked like a charm! I can now listen to my articles at double the speed. The modification has already saved me significant time and improved my listening experience. Of course there are some minor downsides (namely, the speed is set to 2x for all the audio played by the app), but those don‚Äôt bother me at all.\nüí° You‚Äôd have to believe me it worked. I won‚Äôt share neither the name of the app, nor proof that the modification worked, since that would make the name of the magazine obvious. Reverse engineering and unauthorised software modifications are a little bit of a gray area in Italy. Mostly, you can do as you please as long as you don‚Äôt redistribute the software, but I‚Äôd rather be safe than sorry.\nNow you might ask yourself how long it took to pull off this trick: actually, writing this article took way longer. I got lucky and got the app modification working at first try. I couldn‚Äôt believe it myself, since I‚Äôm very used to trial and error at work and in life in general. The most difficult thing was understanding the various CLI tools and navigating some of the more-outdated information. The ROI on my time will be very quick. In fact, I calculated I will break even on my time spent in just about one month. All in all, this was a fun weekend project, I should have done it earlier, but I guess it‚Äôs better late than never.\nThank you for reading my ramblings, power to the nerds!\nReferences Hebun Ilhanli - Decompile, Modify Smali, Recompile and Sign APK\nBraincoke - Android reverse engineering for beginners - Decompiling and patching\nskylot - jadx\niBotPeaches - apktool\nryanheise - audio_service\n","wordCount":"1463","inLanguage":"en","image":"https://gioleppe.github.io/images/cover-faster-please.jpg","datePublished":"2025-04-27T23:20:50Z","dateModified":"2025-04-27T23:20:50Z","author":{"@type":"Person","name":"Tommaso Colella"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gioleppe.github.io/posts/faster-please/"},"publisher":{"@type":"Organization","name":"Tommaso Colella | SWE","logo":{"@type":"ImageObject","url":"https://gioleppe.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://gioleppe.github.io/ accesskey=h title="Tommaso Colella | SWE (Alt + H)">Tommaso Colella | SWE</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gioleppe.github.io/about title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gioleppe.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://gioleppe.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Faster, please! (Or, how I reverse engineered an app to cater to my needs)</h1><div class=post-meta><span title='2025-04-27 23:20:50 +0000 UTC'>April 27, 2025</span>&nbsp;¬∑&nbsp;<span>7 min</span>&nbsp;¬∑&nbsp;<span>Tommaso Colella</span></div></header><figure class=entry-cover><img loading=eager src=https://gioleppe.github.io/images/cover-faster-please.jpg alt="White audio cassette with pulled tape"><figcaption>Photo by <a href=https://unsplash.com/@schluditsch>Daniel Schludi</a> on Unsplash</figcaption></figure><div class=post-content><p>I love listening to podcasts, and news in general. For a couple of years, I&rsquo;ve been subscribed to a somewhat-niche (but really high quality) Italian weekly magazine. I like their Android application, and I use its Text To Speech functionality, but there&rsquo;s a big problem with that: it&rsquo;s impossible to increase the audio reproduction speed.</p><p>I usually listen to articles while doing something else, such as washing the dishes, or commuting to the office. This means I only have a fixed amount of time for this activity. Because of these time restrictions, <strong>I like to cram as much content as possible in my daily listening</strong>. I also get bored very quickly when someone speaks slowly (sorry, I&rsquo;m engineered like this!). That&rsquo;s exactly why <strong>I set the speed to 2x</strong> for most of the podcasts I&rsquo;m listening to. Being unable to do the same with the magazine&rsquo;s articles really bothered me.</p><p>I had to find a solution to the slowness of the TTS. I read online that I could use some exotic app from the Play Store, I tried to find such apps, but nothing worked as intended. A friend suggested using a famous Android automation app, but after quickly checking the official website, I realized increasing audio speed is not supported. I don&rsquo;t know if that is even possible on an unrooted device, and <strong>rooting the phone was out of the question</strong>, as some of the apps I&rsquo;m regularly using (including my bank&rsquo;s) need an unrooted device.</p><blockquote><p>üí° Keep in mind, I&rsquo;m definitely not an Android expert, so maybe there was a better way to achieve my goal. If you think so, feel free to contact me! I&rsquo;d be glad to learn something new.</p></blockquote><p>At that point, the only thing that came to my mind was <strong>modifying the app&rsquo;s bytecode</strong> to somehow increase the reproduction speed. It was Saturday evening and I had nothing to do, so I thought it was the right time to go down the rabbit hole, if only a little. Broadly speaking, I thought the modification would require the following steps:</p><ol><li><strong>decompile</strong> the application</li><li><strong>modify</strong> the application&rsquo;s byte code to increase audio reproduction speed</li><li><strong>repackage</strong> the app and install it on my android device</li></ol><p>Before this small project, I knew nothing of Android decompiling / reverse engineering, I only had a brief experience with reverse engineering GBA roms, so I chatted with Mistral to get a quick grasp on the matter. The chatbot explained the main concepts and provided me with some useful references, namely <a href=https://braincoke.fr/blog/2021/03/android-reverse-engineering-for-beginners-decompiling-and-patching/#using-adb>this</a> and <a href=https://www.hebunilhanli.com/wonderland/mobile-security/decompile-modify-smali-recompile-and-sign-apk/>this</a>, which I referenced extensively to reach my goal. Without further ado, let&rsquo;s start with the technical part!</p><blockquote><p>üí° I won&rsquo;t cite all the details here, so read those two blog posts if you are interested. From now on, I will just broadly explain the steps I carried out. Skip to the conclusions if you just want to know how it went!</p></blockquote><h2 id=drinking-from-the-firehose>Drinking from the firehose<a hidden class=anchor aria-hidden=true href=#drinking-from-the-firehose>#</a></h2><p>While a little outdated, the two blog posts gave me a more specific idea of what to do, along with general information on Android reverse engineering, and opportunities for in depth analyses:</p><ol><li>I&rsquo;d have to use <a href=https://github.com/skylot/jadx>jadx</a> to produce a <strong>somewhat</strong> readable Java version of the DEX bytecode.</li><li>After inspecting the higher-level code, and finding the part where the speed is set, I&rsquo;d have to modify its pertaining <a href=https://paulsec.github.io/posts/android-smali-primer/>Smali</a> code which I previously had to extract from the bytecode contained in classes.dex by using <a href=https://bitbucket.org/iBotPeaches/apktool/src/master/>apktool</a>.</li><li>Finally, I&rsquo;d have to repackage the apk using apktool, sign it with <a href=https://developer.android.com/tools/apksigner>apksigner</a>, and install it on my phone using <a href=https://developer.android.com/tools/adb>adb</a></li></ol><p>That&rsquo;s a lot of information right? It will be easier to just show you the steps.</p><h2 id=jadx>Jadx<a hidden class=anchor aria-hidden=true href=#jadx>#</a></h2><p>After downloading Jadx, and the app&rsquo;s APK (I used <a href=https://apkcombo.com/>APKCombo</a> for that), I used jadx-gui to inspect the resulting Java code and the metadata with it. I found out that the app was built using Flutter and the code was obfuscated. This was bad news, as it would mean harder times finding out exactly what the app was doing (and, most importantly, where the relevant code was). A few minutes later though, I had a morale boost after seeing this promising package in AndroidManifest.xml:</p><p><img alt="Android Manifest" loading=lazy src=/posts/faster-please/images/manifest-image.png></p><p>A quick Google search revealed the developers used <a href=https://github.com/ryanheise/audio_service>a Flutter plugin</a> to play the audio in the background. I inspected the source code and found a nice <a href=https://github.com/ryanheise/audio_service/blob/2895770aebe915ff0f5998605b4525574ce73f5e/audio_service/lib/audio_service.dart#L1981>setSpeed method</a> in the AudioHandler abstract class, along with other methods:</p><p><img alt="audio_service Flutter library" loading=lazy src=/posts/faster-please/images/audio_service-image.png></p><p>I searched for &ldquo;setSpeed&rdquo; and &ldquo;speed&rdquo; in the decompiled Java code, and with a little bit of luck, I found some <strong>interesting bits of obfuscated code:</strong></p><p><img alt="Decompiled Java code" loading=lazy src=/posts/faster-please/images/java-image.png></p><p>I continued inspecting the code for a while (I will spare you of more unintelligible decompiled Java classes, don&rsquo;t worry!), and convinced myself that it was worth trying to modify the value of the second argument of &ldquo;c504n.m9994k&rdquo;. It was time to check the Smali code.</p><blockquote><p>üí° I was lucky enough that the developers hadn&rsquo;t used any String Obfuscation techniques in the executable (at least for the external libraries), otherwise it would&rsquo;ve been almost impossible to reach my goal. I guess it&rsquo;s not really worth it to implement such security measures for the app of a magazine!</p></blockquote><h2 id=smali-assembly>Smali assembly<a hidden class=anchor aria-hidden=true href=#smali-assembly>#</a></h2><p>I used <code>apktool d -r .\com.xxxxxxxx.app.apk</code> to extract the Smali code, and opened it in VSCode. Given that there may be some errors/inconsistencies when translating DEX to Java, I decided to search again for &ldquo;speed&rdquo; and &ldquo;setSpeed&rdquo; in the resulting assembly code and found this:</p><p><img alt="Smali code" loading=lazy src=/posts/faster-please/images/smali-image.png></p><p>What this code does, is it calls method <code>sb.m.a("speed")</code> getting back a double that is then casted to float. I really liked the <em>double-to-float</em>, as it resonated with other playback speed related code I found when inspecting the Java decompile. That code was controlling the maximum and minimum allowed playback speed, and used the same <em>check-cast of double -> cast to float</em> mechanism I had just witnessed in the smali. <strong>I was convinced</strong> that if I set a fixed float value for register v1 before the <em>invoke-virtual</em> at line 5195, it would become the &ldquo;standard&rdquo; value for playback speed. Of course, <strong>this was a (very) wild guess</strong>, but it was worth trying.</p><p>I modified the Smali code between the <em>double-to-float</em> and the <em>invoke-virtual</em>:</p><pre tabindex=0><code>    double-to-float v1, v1

    const/high16 v1, 0x40000000    # added line, this sets v1 register to 2.0f

    invoke-virtual {v7, v1}, Lua/a;-&gt;j0(F)V
</code></pre><p>I was ready to repackage everything and test it on my phone.</p><h2 id=signing-and-installing>Signing and installing<a hidden class=anchor aria-hidden=true href=#signing-and-installing>#</a></h2><p>Below I outline the steps I followed to repackage the app and install it on my device:</p><ul><li>First of all, I used <code>apktool b -d -f .\com.xxxxxxxx.app\</code> to repackage the application,</li><li>Then, I created a keystore to self-sign my app using keytool as such: <code>keytool -genkey -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000</code>.</li><li>I signed the app using apksigner <code>apksigner sign --ks .\com.xxxxxxxx.app\dist\my-release-key.keystore --v1-signing-enabled true --v2-signing-enabled true .\com.xxxxxxxx.app.apk</code>.</li><li>Finally, I connected my phone (with usb debug enabled) and installed the apk using <code>adb install .\com.xxxxxxxx.app.apk</code>.</li></ul><h2 id=conclusions>Conclusions<a hidden class=anchor aria-hidden=true href=#conclusions>#</a></h2><p>If you made it to this point (or if you skipped to the conclusions), you really are interested in the outcome! Well, <strong>I&rsquo;m happy to say this worked like a charm!</strong> I can now listen to my articles at double the speed. The modification has already saved me significant time and improved my listening experience. Of course there are some minor downsides (namely, the speed is set to 2x for all the audio played by the app), but those don&rsquo;t bother me at all.</p><blockquote><p>üí° You&rsquo;d have to believe me it worked. I won&rsquo;t share neither the name of the app, nor proof that the modification worked, since that would make the name of the magazine obvious. Reverse engineering and unauthorised software modifications are a little bit of a gray area in Italy. Mostly, you can do as you please as long as you don&rsquo;t redistribute the software, but I&rsquo;d rather be safe than sorry.</p></blockquote><p>Now you might ask yourself how long it took to pull off this trick: actually, writing this article took way longer. <strong>I got lucky</strong> and got the app modification working at first try. I couldn&rsquo;t believe it myself, since I&rsquo;m very used to trial and error at work and in life in general. The most difficult thing was understanding the various CLI tools and navigating some of the more-outdated information. The ROI on my time will be very quick. In fact, I calculated I will break even on my time spent in just about one month. All in all, this was a fun weekend project, I should have done it earlier, but I guess it&rsquo;s better late than never.</p><p>Thank you for reading my ramblings, power to the nerds!</p><hr><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><p><a href=https://www.hebunilhanli.com/wonderland/mobile-security/decompile-modify-smali-recompile-and-sign-apk/>Hebun Ilhanli - Decompile, Modify Smali, Recompile and Sign APK</a></p><p><a href=https://braincoke.fr/blog/2021/03/android-reverse-engineering-for-beginners-decompiling-and-patching/>Braincoke - Android reverse engineering for beginners - Decompiling and patching</a></p><p><a href=https://github.com/skylot/jadx>skylot - jadx</a></p><p><a href=https://bitbucket.org/iBotPeaches/apktool/src/master/>iBotPeaches - apktool</a></p><p><a href=https://github.com/ryanheise/audio_service/tree/minor>ryanheise - audio_service</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://gioleppe.github.io/posts/used-books/><span class=title>Next ¬ª</span><br><span>Dirt-cheap Computer Science books</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://gioleppe.github.io/>Tommaso Colella | SWE</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>